# WebUI介绍

![main](/webui/main.png)
## 顶部工具栏
位于右上角，功能分别为
- 切换主题：切换WebUI的主题为亮色或暗色。
- 修改用户名和密码：修改WebUI的用户名和密码。
- 退出登录：退出当前登录的WebUI账号。
## WebUI音乐播放器
位于右下角。详见[聊天-点歌功能](#点歌功能)
## 侧边菜单
位于左侧，功能分别为
- 总览：主机性能信息，机器人信息，用户排行榜。
- [聊天](#聊天)：与机器人进行对话。
- [修改配置文件](#修改配置文件)：修改Eridanus的配置。
- [菜单编辑器](#菜单编辑器)：自定义机器人的菜单。**这是一个临时功能，在菜单生成逻辑重做后会被移除。**
- [用户管理](#用户管理)：管理机器人的用户，可查看或修改用户信息。
- [运行日志](#运行日志)：查看Eridanus的运行日志。
- 小工具：重启机器人、导入导出配置文件。
- 关于：Eridanus的基本信息。
- Eridanus文档：跳转至Eridanus文档站。
### 聊天
聊天页面模拟的是群聊环境。命令与操作和群聊基本一致。在聊天页面，您可以与机器人对话、测试功能。

下方输入框的功能分别为：
- 上传文件：拖曳/粘贴/选择图片，上传至Eridanus服务端，用于和机器人交互。功能目前尚未完善。
- 清除历史记录：点击清除按钮，即可清除聊天页面的消息历史记录。**聊天文件不会被删除。** 如有需要，请在`/web/chat_files`目录下手动删除。
- @机器人：打开该开关，即可模拟群内@机器人操作。
- 发送消息：回车发送消息，shift+回车换行。
#### 点歌功能
使用命令 `点歌 歌曲名` ，歌曲会被添加到右下角的播放器中。点击箭头即可展开/收起。Enjoy it!

![music](/webui/music.png)

### 修改配置文件
下拉框选择要修改的配置项。修改完毕后，请记得点击`保存配置`按钮，配置文件才会被保存。

点击`搜索配置项`按钮，在弹出的对话框输入关键词，即可搜索相关配置项。暂时只支持搜索键名。

### 菜单编辑器
如果您打开菜单编辑器，发现内容全部为空行，请先执行/remenu指令生成新的菜单配置文件。随后刷新页面，即可正常编辑。

文本框内，可以在顶部点击插入`[title][/title]`和`[des][/des]`标签，分别表示菜单标题和菜单项描述。菜单项不需要标签包裹。

粗略的预览在每一页的末尾。

修改完成后，点击`保存菜单`按钮即可保存。随后再次执行/remenu，生成新菜单。

**注意：使用脚本更新Eridanus，将会覆盖菜单为仓库中的最新版本！！！**

![menu](/webui/menuedit.png)
### 用户管理
这里会列出所有添加到数据库的用户。默认会添加机器人所在群聊有发言的用户，以及私聊用户。

在上方可以输入需要搜索的用户id。

下方的表格可以在`用户id`、`权限等级`、`token统计`列应用升降序排序功能，便于筛选。

`操作`列可以查看或修改用户详细信息。

![user](/webui/usermgr.png)

### 运行日志
默认应用筛选最近半小时，等级为`ERROR`的日志。

- 下拉框中可以选择日志日期。
- 刷新日志：可以获取最新的日志内容。暂未实现实时日志功能，需要手动刷新。
- 日期筛选：可以筛选指定日期范围内的日志。
- 模块筛选：可以筛选指定模块的日志。
- 错误等级筛选：可以筛选指定错误等级的日志。
- 搜索日志内容：可以在日志内容中搜索指定关键词。
- 导出当前日志：可以导出当前筛选条件下的日志内容。


![log](/webui/log.png)